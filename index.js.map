{"version":3,"file":"index.js","sources":["../src/js/movies-default-display.js"],"sourcesContent":["'use strict';\n\nimport axios from 'axios';\nconst galleryContainer = document.querySelector('.default-display_gallery');\nconst photosUrl = `https://image.tmdb.org/t/p/original/`;\n\nlet queryPage = 1;\n// document.querySelector('.dot').style.visibility='hidden'\n\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxY2ZlZGNlMTYxMzAxYjJjNWMwNWNiODUxMTczNjQ4MSIsIm5iZiI6MTcyNjIzNDc4My44Mjc1MDMsInN1YiI6IjY2ZTQyYjcxOTAxM2ZlODcyMjI0MGMwNyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.D5LbIIzpcPuMhunLfXSG8JZnTRPsItrz-_9PCNoELIQ',\n  },\n};\n\nconst genres = {\n  28: 'Action',\n  12: 'Adventure',\n  16: 'Animation',\n  35: 'Comedy',\n  80: 'Crime',\n  99: 'Documentary',\n  18: 'Drama',\n  10751: 'Family',\n  14: 'Fantasy',\n  36: 'History',\n  27: 'Horror',\n  10402: 'Music',\n  9648: 'Mystery',\n  10749: 'Romance',\n  878: 'Science Fiction',\n  10770: 'TV Movie',\n  53: 'Thriller',\n  10752: 'War',\n  37: 'Western',\n};\n\nlet posts = 20;\n\nasync function galleryDisplay() {\n  try {\n    const datas = await axios.get(\n      `https://api.themoviedb.org/3/trending/movie/day?api_key=1cfedce161301b2c5c05cb8511736481&per_page=${posts}&page=${queryPage}`,\n      options\n    );\n    const results = datas.data.results;\n    let v = Object.values(results);\n\n    v.forEach(element => {\n      let date = `${element.release_date}`.slice(0, 4);\n      let div = document.createElement('div');\n      div.classList.add('gallery-card-modal');\n      const movieGenre = element.genre_ids\n        .map(id => genres[id] || 'Unknown')\n        .join(', ');\n      div.innerHTML = `\n        <img src=\"${photosUrl}${element.poster_path}\" class=\"galleryContainer_image\" alt=\"${element.title} photo\">\n        <h2 class=\"galleryContainer_title\">${element.title}</h2>\n        <p class=\"galleryContainer_subtitle\">${movieGenre} | ${date}</p>\n        `;\n\n      galleryContainer.appendChild(div);\n      div.classList.add(`galleryContainer_card`);\n    });\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\ngalleryDisplay();\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  const paginationDiv = document.getElementById('pagination');\n  const itemsPerPage = 1;\n  const totalItems = 15;\n\n  function generateContent(page) {\n    document.querySelector(`.default-display_gallery`).innerHTML = '';\n\n    for (let i = (page - 1) * itemsPerPage + 1; i <= page * itemsPerPage; i++) {\n      galleryDisplay();\n    }\n  }\n\n  function generatePagination() {\n    const totalPages = Math.ceil(totalItems / itemsPerPage);\n    paginationDiv.innerHTML = '';\n    const prevArrow = document.createElement('span');\n    prevArrow.className = 'arrow';\n    prevArrow.textContent = '←';\n    prevArrow.addEventListener('click', function () {\n      if (queryPage > 1) {\n        queryPage--;\n        generatePagination();\n        generateContent(queryPage);\n      }\n    });\n\n    paginationDiv.appendChild(prevArrow);\n\n    let maxValue = Math.max(totalPages);\n    for (let i = 1; i <= totalPages; i++) {\n      const link = document.createElement('a');\n      link.href = '#';\n      link.textContent = i;\n\n      if (i === queryPage) {\n        link.classList.add('active');\n      } // else if ( i  > queryPage +1 ) {\n      // i.style.visibility='hidden'\n      // document.querySelector('.dot').style.visibility='visible'\n\n      link.addEventListener('click', function () {\n        queryPage = i;\n        generateContent(queryPage);\n        generatePagination();\n      });\n\n      paginationDiv.appendChild(link);\n    }\n\n    const nextArrow = document.createElement('span');\n    nextArrow.className = 'arrow';\n    nextArrow.textContent = '→';\n    nextArrow.addEventListener('click', function () {\n      if (queryPage < totalPages) {\n        queryPage++;\n        generateContent(queryPage);\n        generatePagination();\n      }\n    });\n    paginationDiv.appendChild(nextArrow);\n  }\n\n  generatePagination();\n});\n"],"names":["galleryContainer","photosUrl","queryPage","options","genres","posts","galleryDisplay","results","axios","element","date","div","movieGenre","id","error","paginationDiv","itemsPerPage","totalItems","generateContent","page","i","generatePagination","totalPages","prevArrow","link","nextArrow"],"mappings":"sHAGA,MAAMA,EAAmB,SAAS,cAAc,0BAA0B,EACpEC,EAAY,uCAElB,IAAIC,EAAY,EAGhB,MAAMC,EAAU,CACd,OAAQ,MACR,QAAS,CACP,OAAQ,mBACR,cACE,4PACH,CACH,EAEMC,EAAS,CACb,GAAI,SACJ,GAAI,YACJ,GAAI,YACJ,GAAI,SACJ,GAAI,QACJ,GAAI,cACJ,GAAI,QACJ,MAAO,SACP,GAAI,UACJ,GAAI,UACJ,GAAI,SACJ,MAAO,QACP,KAAM,UACN,MAAO,UACP,IAAK,kBACL,MAAO,WACP,GAAI,WACJ,MAAO,MACP,GAAI,SACN,EAEA,IAAIC,EAAQ,GAEZ,eAAeC,GAAiB,CAC9B,GAAI,CAKF,MAAMC,GAJQ,MAAMC,EAAM,IACxB,qGAAqGH,CAAK,SAASH,CAAS,GAC5HC,CACN,GAC0B,KAAK,QACnB,OAAO,OAAOI,CAAO,EAE3B,QAAQE,GAAW,CACnB,IAAIC,EAAO,GAAGD,EAAQ,YAAY,GAAG,MAAM,EAAG,CAAC,EAC3CE,EAAM,SAAS,cAAc,KAAK,EACtCA,EAAI,UAAU,IAAI,oBAAoB,EACtC,MAAMC,EAAaH,EAAQ,UACxB,IAAII,GAAMT,EAAOS,CAAE,GAAK,SAAS,EACjC,KAAK,IAAI,EACZF,EAAI,UAAY;AAAA,oBACFV,CAAS,GAAGQ,EAAQ,WAAW,yCAAyCA,EAAQ,KAAK;AAAA,6CAC5DA,EAAQ,KAAK;AAAA,+CACXG,CAAU,MAAMF,CAAI;AAAA,UAG7DV,EAAiB,YAAYW,CAAG,EAChCA,EAAI,UAAU,IAAI,uBAAuB,CAC/C,CAAK,CACF,OAAQG,EAAO,CACd,QAAQ,IAAIA,EAAM,OAAO,CAC1B,CACH,CAEAR,IAEA,SAAS,iBAAiB,mBAAoB,UAAY,CACxD,MAAMS,EAAgB,SAAS,eAAe,YAAY,EACpDC,EAAe,EACfC,EAAa,GAEnB,SAASC,EAAgBC,EAAM,CAC7B,SAAS,cAAc,0BAA0B,EAAE,UAAY,GAE/D,QAASC,GAAKD,EAAO,GAAKH,EAAe,EAAGI,GAAKD,EAAOH,EAAcI,IACpEd,GAEH,CAED,SAASe,GAAqB,CAC5B,MAAMC,EAAa,KAAK,KAAKL,EAAaD,CAAY,EACtDD,EAAc,UAAY,GAC1B,MAAMQ,EAAY,SAAS,cAAc,MAAM,EAC/CA,EAAU,UAAY,QACtBA,EAAU,YAAc,IACxBA,EAAU,iBAAiB,QAAS,UAAY,CAC1CrB,EAAY,IACdA,IACAmB,IACAH,EAAgBhB,CAAS,EAEjC,CAAK,EAEDa,EAAc,YAAYQ,CAAS,EAGnC,QAASH,EAAI,EAAGA,GAAKE,EAAYF,IAAK,CACpC,MAAMI,EAAO,SAAS,cAAc,GAAG,EACvCA,EAAK,KAAO,IACZA,EAAK,YAAcJ,EAEfA,IAAMlB,GACRsB,EAAK,UAAU,IAAI,QAAQ,EAK7BA,EAAK,iBAAiB,QAAS,UAAY,CACzCtB,EAAYkB,EACZF,EAAgBhB,CAAS,EACzBmB,GACR,CAAO,EAEDN,EAAc,YAAYS,CAAI,CAC/B,CAED,MAAMC,EAAY,SAAS,cAAc,MAAM,EAC/CA,EAAU,UAAY,QACtBA,EAAU,YAAc,IACxBA,EAAU,iBAAiB,QAAS,UAAY,CAC1CvB,EAAYoB,IACdpB,IACAgB,EAAgBhB,CAAS,EACzBmB,IAER,CAAK,EACDN,EAAc,YAAYU,CAAS,CACpC,CAEDJ,GACF,CAAC"}