{"version":3,"file":"index.js","sources":["../src/js/movies-default-display.js"],"sourcesContent":["\"use strict\";\n\nimport axios from 'axios';\nconst galleryContainer = document.querySelector('.default-display_gallery');\nconst photosUrl = `https://image.tmdb.org/t/p/original/`\n\nlet queryPage = 1;\n\nconst options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxY2ZlZGNlMTYxMzAxYjJjNWMwNWNiODUxMTczNjQ4MSIsIm5iZiI6MTcyNjIzNDc4My44Mjc1MDMsInN1YiI6IjY2ZTQyYjcxOTAxM2ZlODcyMjI0MGMwNyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.D5LbIIzpcPuMhunLfXSG8JZnTRPsItrz-_9PCNoELIQ'\n    }\n  };\n\n  const genres = {\n    28: \"Action\",\n    12: \"Adventure\",\n    16: \"Animation\",\n    35: \"Comedy\",\n    80: \"Crime\",\n    99: \"Documentary\",\n    18: \"Drama\",\n    10751: \"Family\",\n    14: \"Fantasy\",\n    36: \"History\",\n    27: \"Horror\",\n    10402: \"Music\",\n    9648: \"Mystery\",\n    10749: \"Romance\",\n    878: \"Science Fiction\",\n    10770: \"TV Movie\",\n    53: \"Thriller\",\n    10752: \"War\",\n    37: \"Western\",\n  };\n  \n  function galleryDisplay() {\n  fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=1cfedce161301b2c5c05cb8511736481&page=${queryPage}`, options)\n    .then(response => response.json())\n    .then(response => response.results.forEach(element => {\n        let date = `${element.release_date}`.slice(0, 4);\n        let div = document.createElement('div')\n        const movieGenre = element.genre_ids.map((id) => genres[id] || \"Unknown\").join(\", \");\n        div.innerHTML = `\n        <img src=\"${photosUrl}${element.poster_path}\" class=\"galleryContainer_image\" alt=\"${element.title} photo\">\n        <h2 class=\"galleryContainer_title\">${element.title}</h2>\n        <p class=\"galleryContainer_subtitle\">${movieGenre} | ${date}</p>\n      `;\n      galleryContainer.appendChild(div);\n      div.classList.add(`galleryContainer_card`)\n      queryPage ++;\n  })\n)\n    .catch(err => console.error(err));\n    };\n\n    galleryDisplay()\n  \n  function prevPageUpdate() {\n    document.querySelector(`.default-display_gallery`).innerHTML='';\n    galleryDisplay()\n    queryPage --\n  }\n\n  function updateGallery() {\n    document.querySelector(`.default-display_gallery`).innerHTML='';\n    galleryDisplay()\n    queryPage ++\n  }\n\n\n    var Pagination = {\n      code: '',\n      // --------------------\n      // Utility\n      // --------------------\n      // converting initialize data\n      Extend: function(data) {\n          data = data || {};\n          Pagination.size = data.size || 300;\n          Pagination.page = data.page || 1;\n          Pagination.step = data.step || 3;\n      },\n      // add pages by number (from [s] to [f])\n      Add: function(s, f) {\n          for (var i = s; i < f; i++) {\n              Pagination.code += '<a>' + i + '</a>';\n          }\n      },\n      // add last page with separator\n      Last: function() {\n          Pagination.code += '<i>...</i><a>' + Pagination.size + '</a>';\n      },\n      // add first page with separator\n      First: function() {\n          Pagination.code += '<a>1</a><i>...</i>';\n      },\n      // --------------------\n      // Handlers\n      // --------------------\n      // change page\n      Click: function() {\n          Pagination.page = +this.innerHTML;\n          Pagination.Start();\n      },\n      // previous page\n      Prev: function() {\n          Pagination.page--;\n          if (Pagination.page < 1) {\n              Pagination.page = 1;\n          }\n          Pagination.Start();\n          prevPageUpdate();\n      },\n      // next page\n      Next: function() {\n          Pagination.page++;\n          if (Pagination.page > Pagination.size) {\n              Pagination.page = Pagination.size;\n          }\n          Pagination.Start();\n          updateGallery();\n      },\n      // --------------------\n      // Script\n      // --------------------\n      // binding pages\n      Bind: function() {\n          var a = Pagination.e.getElementsByTagName('a');\n          for (var i = 0; i < a.length; i++) {\n              if (+a[i].innerHTML === Pagination.page) a[i].className = 'current';\n              a[i].addEventListener('click', Pagination.Click, false);\n              a[i].addEventListener('click', updateGallery);\n          }\n      },\n      // write pagination\n      Finish: function() {\n          Pagination.e.innerHTML = Pagination.code;\n          Pagination.code = '';\n          Pagination.Bind();\n      },\n      // find pagination type\n      Start: function() {\n          if (Pagination.size < Pagination.step * 2 + 6) {\n              Pagination.Add(1, Pagination.size + 1);\n          }\n          else if (Pagination.page < Pagination.step * 2 + 1) {\n              Pagination.Add(1, Pagination.step * 2 + 4);\n              Pagination.Last();\n          }\n          else if (Pagination.page > Pagination.size - Pagination.step * 2) {\n              Pagination.First();\n              Pagination.Add(Pagination.size - Pagination.step * 2 - 2, Pagination.size + 1);\n          }\n          else {\n              Pagination.First();\n              Pagination.Add(Pagination.page - Pagination.step, Pagination.page + Pagination.step + 1);\n              Pagination.Last();\n          }\n          Pagination.Finish();\n      },\n      // --------------------\n      // Initialization\n      // --------------------\n      // binding buttons\n      Buttons: function(e) {\n          var nav = e.getElementsByTagName('a');\n          nav[0].addEventListener('click', Pagination.Prev, false);\n          nav[1].addEventListener('click', Pagination.Next, false);\n          },\n      // create skeleton\n      Create: function(e) {\n          var html = [\n              '<a class=\"prev-arrow\">←</a>', // previous button\n              '<span></span>',  // pagination container\n              '<a class=\"next-arrow\">→</a>'  // next button\n          ];\n          e.innerHTML = html.join('');\n          Pagination.e = e.getElementsByTagName('span')[0];\n          Pagination.Buttons(e);\n      },\n      // init\n      Init: function(e, data) {\n          Pagination.Extend(data);\n          Pagination.Create(e);\n          Pagination.Start();\n      }\n  };\n  /* * * * * * * * * * * * * * * * *\n  * Initialization\n  * * * * * * * * * * * * * * * * */\n  var init = function() {\n      Pagination.Init(document.getElementById('pagination'), {\n          size: 20, // pages size\n          page: 1,  // selected page\n          step: 1   // pages before and after current\n      });\n  };\n  document.addEventListener('DOMContentLoaded', init, false);"],"names":["galleryContainer","photosUrl","queryPage","options","genres","galleryDisplay","response","element","date","div","movieGenre","id","err","prevPageUpdate","updateGallery","Pagination","data","s","f","i","a","e","nav","html","init"],"mappings":"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"}