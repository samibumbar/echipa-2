{"version":3,"file":"watched-queue-sEEzqdP7.js","sources":["../../src/js/watched-queue.js"],"sourcesContent":["const moviesContainer = document.querySelector('.movies-container');\nconst STORAGE_KEY = 'movies';\n\n  // Functie adaugare in local storage\n  function addToLocalStorage(movie, listType) {\n    let moviesData = JSON.parse(localStorage.getItem(STORAGE_KEY)) || {\n      watched: [],\n      queue: [],\n    };\n\n    // Verificăm dacă filmul există deja în listă\n    if (\n      !moviesData[listType].some(storedMovie => storedMovie.id === movie.id)\n    ) {\n      moviesData[listType].push(movie);\n      localStorage.setItem(STORAGE_KEY, JSON.stringify(moviesData));\n    } else {\n      alert('Acest film exista deja in lista!');\n    }\n  };\n\n\n// Functie pentru a lua lista de filme din local storage\nfunction getMoviesList(listType) {\n  let moviesData = JSON.parse(localStorage.getItem(STORAGE_KEY)) || {\n    watched: [],\n    queue: [],\n  };\n  return moviesData[listType];\n}\n\n// Functie pentru afisarea filmelor\nfunction displayMovies(listType) {\n  const moviesList = getMoviesList(listType);\n\n  moviesList.forEach(movie => {\n    const movieCard = document.createElement('div');\n    movieCard.className = 'movie-card';\n    movieCard.innerHTML = `\n      <img src=\"movie-imgSrc\" width=\"100%\" height=\"315\" class=\"movie-image\"/>\n      <h3 class=\"movie-title\">${movie.title}</h3>\n      <p class=\"movie-subtitle\">${movie.genres} | 2020 </p>\n    `;\n    moviesContainer.appendChild(movieCard);\n  });\n}\n\n\n// // adaugare film in local storage la apasarea butonului watched\ndocument.addEventListener('click', function (e) {\n  if (e.target && e.target.id === 'add-to-watched') {\n    const selectedMovie = getMovieFromModal();\n    addToLocalStorage(selectedMovie, 'watched');\n  }\n\n  if (e.target && e.target.id === 'add-to-queue') {\n    const selectedMovie = getMovieFromModal();\n    addToLocalStorage(selectedMovie, 'queue');\n  }\n});\n\n\n// afisarea filmelor care au fost vizionate la apasarea butonului Watched din header\ndocument.addEventListener('click', e => {\n  if (e.target && e.target.className === 'watched') {\n    console.log('buton watched apasat');\n    moviesContainer.innerHTML = ''\n    displayMovies('watched');\n  }\n\n  if (e.target && e.target.className === 'queue') {\n    console.log('buton queue apasat');\n    moviesContainer.innerHTML = '';\n    displayMovies('queue');\n  }\n\n});\n\n// afisarea filmelor care urmeaza sa fie vizionate la apasarea butonului Queue din header\n\n\nfunction getMovieFromModal() {\n  const title = document.getElementById('modal-title').textContent;\n  const rating = document.getElementById('modal-rating').textContent;\n  const votes = document.getElementById('modal-votes').textContent;\n  const popularity = document.getElementById('modal-popularity').textContent;\n  const genres = document.getElementById('modal-genres').textContent;\n  const description = document.getElementById('modal-description').textContent;\n  const trailer = document.getElementById('modal-trailer').src;\n\n\n  return {\n    id: Date.now(),\n    title,\n    rating,\n    votes,\n    popularity,\n    genres,\n    description,\n    trailer\n  };\n}\n\n"],"names":["moviesContainer","STORAGE_KEY","addToLocalStorage","movie","listType","moviesData","storedMovie","getMoviesList","displayMovies","movieCard","selectedMovie","getMovieFromModal","title","rating","votes","popularity","genres","description","trailer"],"mappings":"kCAAA,MAAMA,EAAkB,SAAS,cAAc,mBAAmB,EAC5DC,EAAc,SAGlB,SAASC,EAAkBC,EAAOC,EAAU,CAC1C,IAAIC,EAAa,KAAK,MAAM,aAAa,QAAQJ,CAAW,CAAC,GAAK,CAChE,QAAS,CAAE,EACX,MAAO,CAAE,CACf,EAIOI,EAAWD,CAAQ,EAAE,KAAKE,GAAeA,EAAY,KAAOH,EAAM,EAAE,EAKrE,MAAM,kCAAkC,GAHxCE,EAAWD,CAAQ,EAAE,KAAKD,CAAK,EAC/B,aAAa,QAAQF,EAAa,KAAK,UAAUI,CAAU,CAAC,EAKlE,CAGA,SAASE,EAAcH,EAAU,CAK/B,OAJiB,KAAK,MAAM,aAAa,QAAQH,CAAW,CAAC,GAAK,CAChE,QAAS,CAAE,EACX,MAAO,CAAE,CACb,GACoBG,CAAQ,CAC5B,CAGA,SAASI,EAAcJ,EAAU,CACZG,EAAcH,CAAQ,EAE9B,QAAQD,GAAS,CAC1B,MAAMM,EAAY,SAAS,cAAc,KAAK,EAC9CA,EAAU,UAAY,aACtBA,EAAU,UAAY;AAAA;AAAA,gCAEMN,EAAM,KAAK;AAAA,kCACTA,EAAM,MAAM;AAAA,MAE1CH,EAAgB,YAAYS,CAAS,CACzC,CAAG,CACH,CAIA,SAAS,iBAAiB,QAAS,SAAU,EAAG,CAC9C,GAAI,EAAE,QAAU,EAAE,OAAO,KAAO,iBAAkB,CAChD,MAAMC,EAAgBC,IACtBT,EAAkBQ,EAAe,SAAS,CAC3C,CAED,GAAI,EAAE,QAAU,EAAE,OAAO,KAAO,eAAgB,CAC9C,MAAMA,EAAgBC,IACtBT,EAAkBQ,EAAe,OAAO,CACzC,CACH,CAAC,EAID,SAAS,iBAAiB,QAAS,GAAK,CAClC,EAAE,QAAU,EAAE,OAAO,YAAc,YACrC,QAAQ,IAAI,sBAAsB,EAClCV,EAAgB,UAAY,GAC5BQ,EAAc,SAAS,GAGrB,EAAE,QAAU,EAAE,OAAO,YAAc,UACrC,QAAQ,IAAI,oBAAoB,EAChCR,EAAgB,UAAY,GAC5BQ,EAAc,OAAO,EAGzB,CAAC,EAKD,SAASG,GAAoB,CAC3B,MAAMC,EAAQ,SAAS,eAAe,aAAa,EAAE,YAC/CC,EAAS,SAAS,eAAe,cAAc,EAAE,YACjDC,EAAQ,SAAS,eAAe,aAAa,EAAE,YAC/CC,EAAa,SAAS,eAAe,kBAAkB,EAAE,YACzDC,EAAS,SAAS,eAAe,cAAc,EAAE,YACjDC,EAAc,SAAS,eAAe,mBAAmB,EAAE,YAC3DC,EAAU,SAAS,eAAe,eAAe,EAAE,IAGzD,MAAO,CACL,GAAI,KAAK,IAAK,EACd,MAAAN,EACA,OAAAC,EACA,MAAAC,EACA,WAAAC,EACA,OAAAC,EACA,YAAAC,EACA,QAAAC,CACJ,CACA"}