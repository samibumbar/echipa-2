import{i as _,g as Q,b as j,S as l,D as O}from"./vendor-DwzPqAEj.js";const N={apiKey:"AIzaSyCw7VkecxwaMQ6UI5ymBFqf54FHRi8_Fkc",authDomain:"filmoteka-ef771.firebaseapp.com",projectId:"filmoteka-ef771",storageBucket:"filmoteka-ef771.appspot.com",messagingSenderId:"731162565659",appId:"1:731162565659:web:da75ae92afc254876bacbe",measurementId:"G-13YE8DDH34"},J=_(N),R=Q(J);document.getElementById("logout-btn").addEventListener("click",()=>{j(R).then(()=>{window.location.href="/page-3.html"}).catch(e=>{console.error("Eroare la deconectare:",e)})});const M={desktop:["/images/desktop/background-red-1x.jpg","/images/desktop/background-orange-1x.jpg","/images/desktop/background-yellow-1x.jpg"],tablet:["/images/tablet/background-red-1x.jpg","/images/tablet/background-orange-1x.jpg","/images/tablet/background-yellow-1x.jpg"],mobile:["/images/mobile/bgd-mobil-red-1x.jpg","/images/mobile/bgd-mobil-orange-1x.jpg","/images/mobile/bgd-mobil-yellow-1x.jpg"]};let A=0,g="desktop";function $(){const e=document.querySelector(".header-container");window.innerWidth>=1200?g="desktop":window.innerWidth>=768&&window.innerWidth<1200?g="tablet":g="mobile";let t=Math.floor(Math.random()*M[g].length);for(;t===A;)t=Math.floor(Math.random()*M[g].length);A=t,e.style.backgroundImage=`url('${M[g][t]}')`}$();setInterval($,3e3);function F(e,t,o,d,c=null,E=null,p=null,a=null,v=!1,k=!1,m=null){const n=document.getElementById("movieModal"),s=document.getElementById("modal-poster"),w=document.getElementById("modal-title"),I=document.getElementById("modal-genres"),S=document.getElementById("modal-description"),T=document.getElementById("modal-rating"),x=document.getElementById("modal-votes"),C=document.getElementById("modal-popularity"),r=document.getElementById("add-to-watched"),i=document.getElementById("add-to-queue");if(!n||!s||!w||!I||!S||!T||!x||!C||!r||!i){console.error("Modal elements not found.");return}w.textContent=t,I.textContent=`Genres: ${o}`,S.textContent=d,T.textContent=E?`Rating: ${E}`:"Rating unavailable",x.textContent=p?`${p} votes`:"Votes unavailable",C.textContent=a?`Popularity: ${a}`:"Popularity unavailable",c?s.outerHTML=`<iframe id="modal-trailer" width="100%" src="${c}" 
      frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>`:s.src=e,n.classList.remove("is-hidden"),n.classList.add("is-visible");const U=JSON.parse(localStorage.getItem("watchedMovies"))||[],W=JSON.parse(localStorage.getItem("queueMovies"))||[];U.some(u=>u.title===t),W.some(u=>u.title===t),v?(r.textContent="Remove from WATCHED",r.onclick=()=>{B("watchedMovies",t),m&&m.remove(),l.fire(`${t} has been removed from WATCHED!`).then(()=>{y()})},i.textContent="Add to QUEUE",i.onclick=()=>{h("queueMovies",{title:t,posterUrl:e,movieGenre:o,description:d}),i.innerHTML="Remove from QUEUE",l.fire(`${t} has been added to QUEUE!`)}):k?(i.textContent="Remove from QUEUE",i.onclick=()=>{B("queueMovies",t),m&&m.remove(),l.fire(`${t} has been removed from QUEUE!`).then(()=>{y()})},r.textContent="Add to WATCHED",r.onclick=()=>{h("watchedMovies",{title:t,posterUrl:e,movieGenre:o,description:d})?l.fire(`${t} has been added to WATCHED!`):l.fire({icon:"error",title:"Already Added!",text:`${t} is already in WATCHED! ✔️`})}):(r.textContent="Add to WATCHED",r.onclick=()=>{h("watchedMovies",{title:t,posterUrl:e,movieGenre:o,description:d})?l.fire(`${t} has been added to WATCHED!`):l.fire({icon:"error",title:"Already Added!",text:`${t} is already in WATCHED! ✔️`})},i.textContent="Add to QUEUE",i.onclick=()=>{h("queueMovies",{title:t,posterUrl:e,movieGenre:o,description:d})?l.fire(`${t} has been added to QUEUE!`):l.fire({icon:"error",title:"Already Added!",text:`${t} is already in QUEUE! ✔️`})}),document.addEventListener("keydown",q),document.body.classList.add("overflow-hidden","modal-active")}function y(){const e=document.getElementById("movieModal"),t=document.getElementById("modal-trailer");if(t){t.remove();const o=document.querySelector(".wrapper-item");o.innerHTML='<img id="modal-poster" src="" alt="Movie Poster" />'}e.classList.remove("is-visible"),e.classList.add("is-hidden"),document.removeEventListener("keydown",q),document.body.classList.remove("overflow-hidden","modal-active")}function h(e,t){const o=JSON.parse(localStorage.getItem(e))||[];return o.find(c=>c.title===t.title)?!1:(o.push(t),localStorage.setItem(e,JSON.stringify(o)),!0)}function B(e,t){const d=(JSON.parse(localStorage.getItem(e))||[]).filter(c=>c.title!==t);localStorage.setItem(e,JSON.stringify(d))}function q(e){e.key==="Escape"&&y()}document.addEventListener("DOMContentLoaded",function(){document.getElementById("close-modal-btn").addEventListener("click",y)});document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".watched"),t=document.querySelector(".queue"),o=document.getElementById("movie-grid"),d="watchedMovies",c="queueMovies";e&&o?e.addEventListener("click",()=>{const a=E(d);p(a,o,!0,!1)}):console.error("Watched section button or movie grid not found"),t&&o?t.addEventListener("click",()=>{const a=E(c);p(a,o,!1,!0)}):console.error("Queue section button or movie grid not found");function E(a){return JSON.parse(localStorage.getItem(a))||[]}function p(a,v,k=!1,m=!1){if(v.innerHTML="",a.length===0){v.innerHTML="<p>No movies found.</p>";return}a.forEach(n=>{const s=document.createElement("div");s.classList.add("movie-card"),s.innerHTML=`

        <img src="${n.posterUrl}" alt="${n.title}" class='galleryContainer_image'/>
        <h3 class="galleryContainer_title">${n.title}</h3>
        <p class='galleryContainer_subtitle'>${n.movieGenre} | ${n.release_date}</p>

      `,s.addEventListener("click",()=>{F(n.posterUrl,n.title,n.movieGenre,n.description,null,null,null,null,k,m,s)}),v.appendChild(s)})}});const P=document.querySelector(".open-modal-team"),K=document.querySelector(".close-modal-team"),L=document.querySelector(".backdrop-modal"),f=document.getElementsByClassName("team__modal");P.addEventListener("click",V);K.addEventListener("click",b);function V(e){L.classList.remove("team__backdrop--hidden"),document.addEventListener("keydown",D),document.addEventListener("click",Y),f[0].classList.add("openModalAnimationTeam")}function b(e){f[0].classList.remove("closeModalAnimationTeam"),L.classList.add("team__backdrop--hidden"),document.removeEventListener("keydown",D),document.body.style.overflow=""}function D(e){e.code==="Escape"&&(f[0].classList.remove("openModalAnimationTeam"),f[0].classList.add("closeModalAnimationTeam"),setTimeout(()=>{b()},400),b())}function Y(e){e.target===L&&(f[0].classList.remove("openModalAnimationTeam"),f[0].classList.add("closeModalAnimationTeam"),setTimeout(()=>{b()},400))}const H=new O,z=localStorage.getItem("theme")||"light";z==="dark"&&H.toggle();const G=document.getElementById("theme-toggle");G.addEventListener("click",()=>{H.toggle();const e=document.body.classList.contains("dark-mode")?"dark":"light";localStorage.setItem("theme",e)});document.getElementById("theme-toggle").addEventListener("click",function(){document.body.classList.toggle("dark-mode");const e=document.body.classList.contains("dark-mode")?"dark":"light";localStorage.setItem("theme",e)});window.onload=function(){localStorage.getItem("theme")==="dark"&&document.body.classList.add("dark-mode")};export{F as o};
//# sourceMappingURL=darkmode-Cn7GwMx_.js.map
