import{a as w}from"./vendor-BaZnZOwH.js";import{o as I}from"./modal-movie-BMDh4blJ.js";document.addEventListener("DOMContentLoaded",function(){const u="1cfedce161301b2c5c05cb8511736481",p="https://api.themoviedb.org/3",l={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",36:"History",27:"Horror",10402:"Music",9648:"Mystery",10749:"Romance",878:"Science Fiction",10770:"TV Movie",53:"Thriller",10752:"War",37:"Western"},a=document.getElementById("search-input"),m=document.getElementById("search-button"),r=document.getElementById("movie-grid"),c=document.getElementById("default-display_gallery"),o=document.getElementById("loading-indicator");if(!r){console.error("Elementul movie-grid nu a fost găsit!");return}m.addEventListener("click",t=>{t.preventDefault();const e=a.value.trim();e?y(e):d()}),a.addEventListener("input",()=>{a.value.trim()?v():(d(),s())});function y(t){M(),w.get(`${p}/search/movie?api_key=${u}&query=${encodeURIComponent(t)}`).then(e=>{const n=f(e.data.results);g(n)}).catch(e=>{console.error("Eroare la preluarea filmelor:",e),E("A apărut o eroare în timpul căutării. Încercați din nou.")}).finally(_)}function f(t){return t.filter(e=>e.popularity&&e.release_date).sort((e,n)=>n.popularity-e.popularity||new Date(n.release_date)-new Date(e.release_date))}function g(t){if(s(),t.length===0){r.innerHTML="<p>Niciun film găsit.</p>";return}t.forEach(e=>{if(!e.poster_path)return;const n=h(e);r.appendChild(n),n.addEventListener("click",()=>{I(`https://image.tmdb.org/t/p/original${e.poster_path}`,e.title,e.genre_ids.map(i=>l[i]||"Unknown").join(", "),e.overview,null,e.vote_average,e.vote_count,e.popularity)})})}function h(t){const e=document.createElement("div");e.classList.add("movie-card");const n=`https://image.tmdb.org/t/p/original${t.poster_path}`,i=t.title,L=t.genre_ids.map($=>l[$]||"Unknown").join(", ");return e.innerHTML=`
      <img src="${n}" alt="${i}" style="max-width: 100%; height: auto;">
      <h3>${i}</h3>
      <h3 class="span">Gen: ${L}</h3>
    `,e}function d(){c.style.display="block"}function v(){c.style.display="none"}function s(){r.innerHTML=""}function E(t){s(),r.innerHTML=`<p class="error-message">${t}</p>`}function M(){o&&(o.style.display="block")}function _(){o&&(o.style.display="none")}});
//# sourceMappingURL=search-D9A1WaXT.js.map
