import{S as c}from"./vendor-BaZnZOwH.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function d(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(t){if(t.ep)return;t.ep=!0;const n=d(t);fetch(t.href,n)}})();function x(o,e,d,s,t=null,n=null,r=null,g=null,b=!1,S=!1,i=null){const u=document.getElementById("movieModal"),f=document.getElementById("modal-poster"),p=document.getElementById("modal-title"),y=document.getElementById("modal-genres"),v=document.getElementById("modal-description"),E=document.getElementById("modal-rating"),h=document.getElementById("modal-votes"),I=document.getElementById("modal-popularity"),l=document.getElementById("add-to-watched"),a=document.getElementById("add-to-queue");if(!u||!f||!p||!y||!v||!E||!h||!I||!l||!a){console.error("Modal elements not found.");return}p.textContent=e,y.textContent=`Genres: ${d}`,v.textContent=s,E.textContent=n?`Rating: ${n}`:"Rating unavailable",h.textContent=r?`${r} votes`:"Votes unavailable",I.textContent=g?`Popularity: ${g}`:"Popularity unavailable",t?f.outerHTML=`<iframe id="modal-trailer" width="100%" height="315" src="${t}" 
      frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>`:f.src=o,u.classList.remove("is-hidden"),u.classList.add("is-visible"),b?(l.textContent="Remove from WATCHED",l.onclick=()=>{M("watchedMovies",e),i&&i.remove(),c.fire(`${e} has been removed from WATCHED!`).then(()=>{m()})}):S?(a.textContent="Remove from QUEUE",a.onclick=()=>{M("queueMovies",e),i&&i.remove(),c.fire(`${e} has been removed from QUEUE!`).then(()=>{m()})}):(l.textContent="Add to WATCHED",l.onclick=()=>{L("watchedMovies",{title:e,posterUrl:o,movieGenre:d,description:s}),c.fire(`${e} has been added to WATCHED!`)},a.textContent="Add to QUEUE",a.onclick=()=>{L("queueMovies",{title:e,posterUrl:o,movieGenre:d,description:s}),c.fire(`${e} has been added to QUEUE!`)}),document.addEventListener("keydown",B)}function m(){const o=document.getElementById("movieModal"),e=document.getElementById("modal-trailer");if(e){e.remove();const d=document.querySelector(".wrapper-item");d.innerHTML='<img id="modal-poster" src="" alt="Movie Poster" />'}o.classList.remove("is-visible"),o.classList.add("is-hidden"),document.removeEventListener("keydown",B)}function L(o,e){const d=JSON.parse(localStorage.getItem(o))||[];d.find(s=>s.title===e.title)||(d.push(e),localStorage.setItem(o,JSON.stringify(d)))}function M(o,e){const s=(JSON.parse(localStorage.getItem(o))||[]).filter(t=>t.title!==e);localStorage.setItem(o,JSON.stringify(s))}function B(o){o.key==="Escape"&&m()}document.addEventListener("DOMContentLoaded",function(){document.getElementById("close-modal-btn").addEventListener("click",m)});export{x as o};
//# sourceMappingURL=modal-movie-BMDh4blJ.js.map
