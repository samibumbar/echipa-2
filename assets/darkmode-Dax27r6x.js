import{i as _,g as Q,b as j,S as i,D as O}from"./vendor-DwzPqAEj.js";const N={apiKey:"AIzaSyCw7VkecxwaMQ6UI5ymBFqf54FHRi8_Fkc",authDomain:"filmoteka-ef771.firebaseapp.com",projectId:"filmoteka-ef771",storageBucket:"filmoteka-ef771.appspot.com",messagingSenderId:"731162565659",appId:"1:731162565659:web:da75ae92afc254876bacbe",measurementId:"G-13YE8DDH34"},J=_(N),R=Q(J);document.getElementById("logout-btn").addEventListener("click",()=>{j(R).then(()=>{window.location.href="/echipa-2/page-3.html"}).catch(e=>{console.error("Eroare la deconectare:",e)})});const M={desktop:["/echipa-2/images/desktop/background-red-1x.jpg","/echipa-2/images/desktop/background-orange-1x.jpg","/echipa-2/images/desktop/background-yellow-1x.jpg"],tablet:["/echipa-2/images/desktop/background-red-1x.jpg","/echipa-2/images/desktop/background-orange-1x.jpg","/echipa-2/images/desktop/background-yellow-1x.jpg"],mobile:["/echipa-2/images/mobile/bgd-mobil-red-1x.jpg","/echipa-2/images/mobile/bgd-mobil-orange-1x.jpg","/echipa-2/images/mobile/bgd-mobil-yellow-1x.jpg"]};let C=0,h="desktop";function $(){const e=document.querySelector(".header-container");window.innerWidth>=1200?h="desktop":window.innerWidth>=768&&window.innerWidth<1200?h="tablet":h="mobile";let t=Math.floor(Math.random()*M[h].length);for(;t===C;)t=Math.floor(Math.random()*M[h].length);C=t,e.style.backgroundImage=`url('${M[h][t]}')`}$();setInterval($,3e3);function F(e,t,o,d,s=null,m=null,u=null,n=null,c=!1,b=!1,f=null){const a=document.getElementById("movieModal"),l=document.getElementById("modal-poster"),w=document.getElementById("modal-title"),I=document.getElementById("modal-genres"),B=document.getElementById("modal-description"),S=document.getElementById("modal-rating"),T=document.getElementById("modal-votes"),x=document.getElementById("modal-popularity"),g=document.getElementById("add-to-watched"),r=document.getElementById("add-to-queue");if(!a||!l||!w||!I||!B||!S||!T||!x||!g||!r){console.error("Modal elements not found.");return}w.textContent=t,I.textContent=`Genres: ${o}`,B.textContent=d,S.textContent=m?`Rating: ${m}`:"Rating unavailable",T.textContent=u?`${u} votes`:"Votes unavailable",x.textContent=n?`Popularity: ${n}`:"Popularity unavailable",s?l.outerHTML=`<iframe id="modal-trailer" width="100%" src="${s}" 
      frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>`:l.src=e,a.classList.remove("is-hidden"),a.classList.add("is-visible");const U=JSON.parse(localStorage.getItem("watchedMovies"))||[],W=JSON.parse(localStorage.getItem("queueMovies"))||[];U.some(p=>p.title===t),W.some(p=>p.title===t),c?(g.textContent="Remove from WATCHED",g.onclick=()=>{A("watchedMovies",t),f&&f.remove(),i.fire(`${t} has been removed from WATCHED!`).then(()=>{y()})},r.textContent="Add to QUEUE",r.onclick=()=>{E("queueMovies",{title:t,posterUrl:e,movieGenre:o,description:d}),r.innerHTML="Remove from QUEUE",i.fire(`${t} has been added to QUEUE!`)}):b?(r.textContent="Remove from QUEUE",r.onclick=()=>{A("queueMovies",t),f&&f.remove(),i.fire(`${t} has been removed from QUEUE!`).then(()=>{y()})},g.textContent="Add to WATCHED",g.onclick=()=>{E("watchedMovies",{title:t,posterUrl:e,movieGenre:o,description:d})?i.fire(`${t} has been added to WATCHED!`):i.fire({icon:"error",title:"Already Added!",text:`${t} is already in WATCHED! ✔️`})}):(g.textContent="Add to WATCHED",g.onclick=()=>{E("watchedMovies",{title:t,posterUrl:e,movieGenre:o,description:d})?i.fire(`${t} has been added to WATCHED!`):i.fire({icon:"error",title:"Already Added!",text:`${t} is already in WATCHED! ✔️`})},r.textContent="Add to QUEUE",r.onclick=()=>{E("queueMovies",{title:t,posterUrl:e,movieGenre:o,description:d})?i.fire(`${t} has been added to QUEUE!`):i.fire({icon:"error",title:"Already Added!",text:`${t} is already in QUEUE! ✔️`})}),document.addEventListener("keydown",q),document.body.classList.add("overflow-hidden","modal-active")}function y(){const e=document.getElementById("movieModal"),t=document.getElementById("modal-trailer");if(t){t.remove();const o=document.querySelector(".wrapper-item");o.innerHTML='<img id="modal-poster" src="" alt="Movie Poster" />'}e.classList.remove("is-visible"),e.classList.add("is-hidden"),document.removeEventListener("keydown",q),document.body.classList.remove("overflow-hidden","modal-active")}function E(e,t){const o=JSON.parse(localStorage.getItem(e))||[];return o.find(s=>s.title===t.title)?!1:(o.push(t),localStorage.setItem(e,JSON.stringify(o)),!0)}function A(e,t){const d=(JSON.parse(localStorage.getItem(e))||[]).filter(s=>s.title!==t);localStorage.setItem(e,JSON.stringify(d))}function q(e){e.key==="Escape"&&y()}document.addEventListener("DOMContentLoaded",function(){document.getElementById("close-modal-btn").addEventListener("click",y)});document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("watched"),t=document.getElementById("queue"),o=document.getElementById("movie-grid"),d="watchedMovies",s="queueMovies";e&&o?e.addEventListener("click",()=>{const n=m(d);u(n,o,!0,!1)}):console.error("Watched section button or movie grid not found"),t&&o?t.addEventListener("click",()=>{const n=m(s);u(n,o,!1,!0)}):console.error("Queue section button or movie grid not found");function m(n){return JSON.parse(localStorage.getItem(n))||[]}function u(n,c,b=!1,f=!1){if(c.innerHTML="",n.length===0){c.innerHTML="<p>No movies found.</p>";return}n.forEach(a=>{const l=document.createElement("div");l.classList.add("movie-card"),l.innerHTML=`
        <img src="${a.posterUrl}" alt="${a.title}" class='galleryContainer_image'/>
        <h3 class="galleryContainer_title">${a.title}</h3>
        <p class='galleryContainer_subtitle'>${a.movieGenre} | ${a.release_date}</p>
      `,l.addEventListener("click",()=>{F(a.posterUrl,a.title,a.movieGenre,a.description,null,null,null,null,b,f,l)}),c.appendChild(l)})}document.addEventListener("click",function(n){if(n.target&&n.target.id==="watched"){console.log('Butonul "watched" a fost clicat');const c=m(d);u(c,o,!0,!1)}if(n.target&&n.target.id==="queue"){console.log('Butonul "queue" a fost clicat');const c=m(s);u(c,o,!1,!0)}n.target&&n.target.classList.contains("movie-card")&&console.log("Un card de film a fost clicat")})});const P=document.querySelector(".open-modal-team"),K=document.querySelector(".close-modal-team"),L=document.querySelector(".backdrop-modal"),v=document.getElementsByClassName("team__modal");P.addEventListener("click",V);K.addEventListener("click",k);function V(e){L.classList.remove("team__backdrop--hidden"),document.addEventListener("keydown",D),document.addEventListener("click",Y),v[0].classList.add("openModalAnimationTeam")}function k(e){v[0].classList.remove("closeModalAnimationTeam"),L.classList.add("team__backdrop--hidden"),document.removeEventListener("keydown",D),document.body.style.overflow=""}function D(e){e.code==="Escape"&&(v[0].classList.remove("openModalAnimationTeam"),v[0].classList.add("closeModalAnimationTeam"),setTimeout(()=>{k()},400),k())}function Y(e){e.target===L&&(v[0].classList.remove("openModalAnimationTeam"),v[0].classList.add("closeModalAnimationTeam"),setTimeout(()=>{k()},400))}const H=new O,z=localStorage.getItem("theme")||"light";z==="dark"&&H.toggle();const G=document.getElementById("theme-toggle");G.addEventListener("click",()=>{H.toggle();const e=document.body.classList.contains("dark-mode")?"dark":"light";localStorage.setItem("theme",e)});document.getElementById("theme-toggle").addEventListener("click",function(){document.body.classList.toggle("dark-mode");const e=document.body.classList.contains("dark-mode")?"dark":"light";localStorage.setItem("theme",e)});window.onload=function(){localStorage.getItem("theme")==="dark"&&document.body.classList.add("dark-mode")};export{F as o};
//# sourceMappingURL=darkmode-Dax27r6x.js.map
