import{i as B,g as C,o as D,b as T,S as g}from"./vendor-BNe1RqNb.js";const $={apiKey:"AIzaSyCw7VkecxwaMQ6UI5ymBFqf54FHRi8_Fkc",authDomain:"filmoteka-ef771.firebaseapp.com",projectId:"filmoteka-ef771",storageBucket:"filmoteka-ef771.appspot.com",messagingSenderId:"731162565659",appId:"1:731162565659:web:da75ae92afc254876bacbe",measurementId:"G-13YE8DDH34"},q=B($),S=C(q);D(S,e=>{e||(window.location.href="/login.html")});document.addEventListener("click",function(e){e.target&&e.target.id==="logout-btn"&&T(S).then(()=>{window.location.href="/login.html"}).catch(t=>{console.error("Eroare la deconectare:",t)})});document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("darkmode-toogle"),t=document.body;localStorage.getItem("darkMode")==="enabled"&&o(),e.addEventListener("change",()=>{e.checked?o():a()});function o(){t.classList.add("dark-mode"),localStorage.setItem("darkMode","enabled")}function a(){t.classList.remove("dark-mode"),localStorage.setItem("darkMode","disabled")}});function x(e,t,o,a,s=null,i=null,r=null,d=null,m=!1,p=!1,c=null){const n=document.getElementById("movieModal"),l=document.getElementById("modal-poster"),v=document.getElementById("modal-title"),h=document.getElementById("modal-genres"),y=document.getElementById("modal-description"),M=document.getElementById("modal-rating"),I=document.getElementById("modal-votes"),L=document.getElementById("modal-popularity"),u=document.getElementById("add-to-watched"),f=document.getElementById("add-to-queue");if(!n||!l||!v||!h||!y||!M||!I||!L||!u||!f){console.error("Modal elements not found.");return}v.textContent=t,h.textContent=`Genres: ${o}`,y.textContent=a,M.textContent=i?`Rating: ${i}`:"Rating unavailable",I.textContent=r?`${r} votes`:"Votes unavailable",L.textContent=d?`Popularity: ${d}`:"Popularity unavailable",s?l.outerHTML=`<iframe id="modal-trailer" width="100%" " src="${s}" 
      frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>`:l.src=e,n.classList.remove("is-hidden"),n.classList.add("is-visible"),m?(u.textContent="Remove from WATCHED",u.onclick=()=>{k("watchedMovies",t),c&&c.remove(),g.fire(`${t} has been removed from WATCHED!`).then(()=>{E()})}):p?(f.textContent="Remove from QUEUE",f.onclick=()=>{k("queueMovies",t),c&&c.remove(),g.fire(`${t} has been removed from QUEUE!`).then(()=>{E()})}):(u.textContent="Add to WATCHED",u.onclick=()=>{b("watchedMovies",{title:t,posterUrl:e,movieGenre:o,description:a}),g.fire(`${t} has been added to WATCHED!`)},f.textContent="Add to QUEUE",f.onclick=()=>{b("queueMovies",{title:t,posterUrl:e,movieGenre:o,description:a}),g.fire(`${t} has been added to QUEUE!`)}),document.addEventListener("keydown",w)}function E(){const e=document.getElementById("movieModal"),t=document.getElementById("modal-trailer");if(t){t.remove();const o=document.querySelector(".wrapper-item");o.innerHTML='<img id="modal-poster" src="" alt="Movie Poster" />'}e.classList.remove("is-visible"),e.classList.add("is-hidden"),document.removeEventListener("keydown",w)}function b(e,t){const o=JSON.parse(localStorage.getItem(e))||[];o.find(a=>a.title===t.title)||(o.push(t),localStorage.setItem(e,JSON.stringify(o)))}function k(e,t){const a=(JSON.parse(localStorage.getItem(e))||[]).filter(s=>s.title!==t);localStorage.setItem(e,JSON.stringify(a))}function w(e){e.key==="Escape"&&E()}document.addEventListener("DOMContentLoaded",function(){document.getElementById("close-modal-btn").addEventListener("click",E)});document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".watched"),t=document.querySelector(".queue"),o=document.getElementById("movie-grid"),a="watchedMovies",s="queueMovies";e&&o?e.addEventListener("click",()=>{const d=i(a);r(d,o,!0,!1)}):console.error("Watched section button or movie grid not found"),t&&o?t.addEventListener("click",()=>{const d=i(s);r(d,o,!1,!0)}):console.error("Queue section button or movie grid not found");function i(d){return JSON.parse(localStorage.getItem(d))||[]}function r(d,m,p=!1,c=!1){if(m.innerHTML="",d.length===0){m.innerHTML="<p>No movies found.</p>";return}d.forEach(n=>{const l=document.createElement("div");l.classList.add("movie-card"),l.innerHTML=`

<img src="${n.posterUrl}" alt="${n.title}" class='galleryContainer_image'/>
        <h3 class="movie-title">${n.title}</h3>
        <p class='movie-description'>${n.movieGenre} | ${n.release_date}</p>
      `,l.addEventListener("click",()=>{x(n.posterUrl,n.title,n.movieGenre,n.description,null,null,null,null,p,c,l)}),m.appendChild(l)})}});export{x as o};
//# sourceMappingURL=watched-queue-BJht4WcZ.js.map
