import{i as T,g as q,o as H,b as C,S as p}from"./vendor-BNe1RqNb.js";const A={apiKey:"AIzaSyCw7VkecxwaMQ6UI5ymBFqf54FHRi8_Fkc",authDomain:"filmoteka-ef771.firebaseapp.com",projectId:"filmoteka-ef771",storageBucket:"filmoteka-ef771.appspot.com",messagingSenderId:"731162565659",appId:"1:731162565659:web:da75ae92afc254876bacbe",measurementId:"G-13YE8DDH34"},j=T(A),v=q(j);H(v,t=>{t||(window.location.href="/echipa-2/page-3.html")});document.getElementById("logout-btn").addEventListener("click",()=>{C(v).then(()=>{window.location.href="/page-3.html"}).catch(t=>{console.error("Eroare la deconectare:",t)})});const E={desktop:["/echipa-2/images/desktop/background-red-1x.jpg","/echipa-2/images/desktop/background-orange-1x.jpg","/echipa-2/images/desktop/background-yellow-1x.jpg"],tablet:["/echipa-2/images/tablet/background-red-1x.jpg","/echipa-2/images/tablet/background-orange-1x.jpg","/echipa-2/images/tablet/background-yellow-1x.jpg"],mobile:["/echipa-2/images/mobile/bgd-mobil-red-1x.jpg","/echipa-2/images/mobile/bgd-mobil-orange-1x.jpg","/echipa-2/images/mobile/bgd-mobil-yellow-1x.jpg"]};document.addEventListener("click",function(t){t.target&&t.target.id==="logout-btn"&&C(v).then(()=>{window.location.href="/login.html"}).catch(e=>{console.error("Eroare la deconectare:",e)})});document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("darkmode-toogle"),e=document.body;localStorage.getItem("darkMode")==="enabled"&&o(),t.addEventListener("change",()=>{t.checked?o():a()});function o(){e.classList.add("dark-mode"),localStorage.setItem("darkMode","enabled")}function a(){e.classList.remove("dark-mode"),localStorage.setItem("darkMode","disabled")}});let S=0,r="desktop";function D(){const t=document.querySelector(".header-container");window.innerWidth>=768?r="desktop":window.innerWidth>=480?r="tablet":r="mobile";let e=Math.floor(Math.random()*E[r].length);for(;e===S;)e=Math.floor(Math.random()*E[r].length);S=e,t.style.backgroundImage=`url('${E[r][e]}')`}D();setInterval(D,3e3);function U(t,e,o,a,i=null,s=null,m=null,d=null,u=!1,b=!1,c=null){const n=document.getElementById("movieModal"),l=document.getElementById("modal-poster"),k=document.getElementById("modal-title"),y=document.getElementById("modal-genres"),M=document.getElementById("modal-description"),I=document.getElementById("modal-rating"),w=document.getElementById("modal-votes"),L=document.getElementById("modal-popularity"),g=document.getElementById("add-to-watched"),f=document.getElementById("add-to-queue");if(!n||!l||!k||!y||!M||!I||!w||!L||!g||!f){console.error("Modal elements not found.");return}k.textContent=e,y.textContent=`Genres: ${o}`,M.textContent=a,I.textContent=s?`Rating: ${s}`:"Rating unavailable",w.textContent=m?`${m} votes`:"Votes unavailable",L.textContent=d?`Popularity: ${d}`:"Popularity unavailable",i?l.outerHTML=`<iframe id="modal-trailer" width="100%" " src="${i}" 
      frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>`:l.src=t,n.classList.remove("is-hidden"),n.classList.add("is-visible"),u?(g.textContent="Remove from WATCHED",g.onclick=()=>{x("watchedMovies",e),c&&c.remove(),p.fire(`${e} has been removed from WATCHED!`).then(()=>{h()})}):b?(f.textContent="Remove from QUEUE",f.onclick=()=>{x("queueMovies",e),c&&c.remove(),p.fire(`${e} has been removed from QUEUE!`).then(()=>{h()})}):(g.textContent="Add to WATCHED",g.onclick=()=>{B("watchedMovies",{title:e,posterUrl:t,movieGenre:o,description:a}),p.fire(`${e} has been added to WATCHED!`)},f.textContent="Add to QUEUE",f.onclick=()=>{B("queueMovies",{title:e,posterUrl:t,movieGenre:o,description:a}),p.fire(`${e} has been added to QUEUE!`)}),document.addEventListener("keydown",$)}function h(){const t=document.getElementById("movieModal"),e=document.getElementById("modal-trailer");if(e){e.remove();const o=document.querySelector(".wrapper-item");o.innerHTML='<img id="modal-poster" src="" alt="Movie Poster" />'}t.classList.remove("is-visible"),t.classList.add("is-hidden"),document.removeEventListener("keydown",$)}function B(t,e){const o=JSON.parse(localStorage.getItem(t))||[];o.find(a=>a.title===e.title)||(o.push(e),localStorage.setItem(t,JSON.stringify(o)))}function x(t,e){const a=(JSON.parse(localStorage.getItem(t))||[]).filter(i=>i.title!==e);localStorage.setItem(t,JSON.stringify(a))}function $(t){t.key==="Escape"&&h()}document.addEventListener("DOMContentLoaded",function(){document.getElementById("close-modal-btn").addEventListener("click",h)});document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector(".watched"),e=document.querySelector(".queue"),o=document.getElementById("movie-grid"),a="watchedMovies",i="queueMovies";t&&o?t.addEventListener("click",()=>{const d=s(a);m(d,o,!0,!1)}):console.error("Watched section button or movie grid not found"),e&&o?e.addEventListener("click",()=>{const d=s(i);m(d,o,!1,!0)}):console.error("Queue section button or movie grid not found");function s(d){return JSON.parse(localStorage.getItem(d))||[]}function m(d,u,b=!1,c=!1){if(u.innerHTML="",d.length===0){u.innerHTML="<p>No movies found.</p>";return}d.forEach(n=>{const l=document.createElement("div");l.classList.add("movie-card"),l.innerHTML=`

<img src="${n.posterUrl}" alt="${n.title}" class='galleryContainer_image'/>
        <h3 class="movie-title">${n.title}</h3>
        <p class='movie-description'>${n.movieGenre} | ${n.release_date}</p>
      `,l.addEventListener("click",()=>{U(n.posterUrl,n.title,n.movieGenre,n.description,null,null,null,null,b,c,l)}),u.appendChild(l)})}});export{U as o};
//# sourceMappingURL=watched-queue-B7azZ7il.js.map
