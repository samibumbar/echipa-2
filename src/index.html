<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Filmoteka</title>

    <link rel="stylesheet" href="./index.css" />
  </head>

  <body>
    <main>
      <load src="./partials/header.html" />
      <load src="./partials/movies-default-display.html" />
      <load src="./partials/vite-promo.html" />
      <load src="./partials/badges.html" />
    </main>
    <load src="./partials/footer.html" />

    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-auth.js"></script>

    <script type="module">
      import { initializeApp } from 'firebase/app';
      import { getAuth, onAuthStateChanged } from 'firebase/auth';

      // Configurația Firebase
      const firebaseConfig = {
        apiKey: 'AIzaSyCw7VkecxwaMQ6UI5ymBFqf54FHRi8_Fkc',
        authDomain: 'filmoteka-ef771.firebaseapp.com',
        projectId: 'filmoteka-ef771',
        storageBucket: 'filmoteka-ef771.appspot.com',
        messagingSenderId: '731162565659',
        appId: '1:731162565659:web:da75ae92afc254876bacbe',
        measurementId: 'G-13YE8DDH34',
      };

      // Inițializează aplicația Firebase
      const app = initializeApp(firebaseConfig);
      const auth = getAuth(app);

      // Verifică dacă utilizatorul este autentificat
      onAuthStateChanged(auth, user => {
        if (!user) {
          // Dacă nu este autentificat, redirecționează la pagina de logare
          window.location.href = '/echipa-2/page-3.html';
        }
      });
    </script>
  </body>
</html>
